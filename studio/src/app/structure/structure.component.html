<mat-toolbar>Game structure</mat-toolbar>

<mat-tree [dataSource]="dataSource" [treeControl]="treeControl">

  <!--  Child nodes-->
  <mat-tree-node *matTreeNodeDef="let node">

    <li class="mat-tree-node leaf">

      <span class="mat-icon-button">
        <mat-icon class="candy-icon">{{node.icon}}</mat-icon>
      </span>

      <span class="spacer">{{node.name}}</span>

      <button mat-icon-button *ngIf="node.editButton">
        <mat-icon>edit</mat-icon>
      </button>

      <button mat-icon-button *ngIf="node.removeButton">
        <mat-icon>delete</mat-icon>
      </button>

    </li>

  </mat-tree-node>

  <!-- Parent nodes -->
  <mat-nested-tree-node *matTreeNodeDef="let node; when isCategory">

    <li class="mat-tree-node">

      <button mat-icon-button matTreeNodeToggle>
        <mat-icon>{{treeControl.isExpanded(node) ? 'expand_more' : 'chevron_right'}}</mat-icon>
      </button>

      <span class="spacer" (dblclick)="treeControl.toggle(node)">{{node.name}}</span>

      <button mat-icon-button *ngIf="node.addButton">
        <mat-icon>add</mat-icon>
      </button>

    </li>

    <ul *ngIf="treeControl.isExpanded(node)">
      <ng-container matTreeNodeOutlet></ng-container>
    </ul>

  </mat-nested-tree-node>

</mat-tree>
